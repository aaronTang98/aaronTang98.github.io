(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{534:function(s,a,t){"use strict";t.r(a);var e=t(6),n=Object(e.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h2",{attrs:{id:"elasticsearch-系列-二-安装"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#elasticsearch-系列-二-安装"}},[s._v("#")]),s._v(" Elasticsearch 系列（二）安装")]),s._v(" "),t("h3",{attrs:{id:"一、docker-方式安装"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#一、docker-方式安装"}},[s._v("#")]),s._v(" 一、docker 方式安装")]),s._v(" "),t("ul",[t("li",[t("p",[s._v("Elasticsearch 7.10.1 存储和检索数据")])]),s._v(" "),t("li",[t("p",[s._v("Kibana 7.10.1 可视化检索数据")])])]),s._v(" "),t("h3",{attrs:{id:"二、下载镜像文件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#二、下载镜像文件"}},[s._v("#")]),s._v(" 二、下载镜像文件")]),s._v(" "),t("div",{staticClass:"language-dockerfile line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-dockerfile"}},[t("code",[s._v("docker pull elasticsearch"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("7.10.1 "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#存储和检索数据 ")]),s._v("\ndocker pull kibana"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("7.10.1 "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#可视化检索数据")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("h3",{attrs:{id:"三、创建elasticsearch-实例"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#三、创建elasticsearch-实例"}},[s._v("#")]),s._v(" 三、创建Elasticsearch 实例")]),s._v(" "),t("p",[s._v("本地实验最少4g 内存，官方硬件配置参考https://www.elastic.co/guide/en/elasticsearch/guide/master/hardware.html#_cpus")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 创建文件夹")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" -p /data/elasticsearch/config\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" -p /data/elasticsearch/data\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" -p /data/elasticsearch/plugins\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 修改文件夹权限")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("chmod")]),s._v(" -R "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("777")]),s._v(" /data/elasticsearch/\n\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"http.host:0.0.0.0"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">>")]),s._v("/data/elasticsearch/config/elasticsearch.yml\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 9200 http请求端口，9300 集群节点之间通信端口")]),s._v("\ndocker run --name elasticsearch -p "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("9200")]),s._v(":9200 -p "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("9300")]),s._v(":9300 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n--restart"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("always "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n-e "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"discovery.type=single-node"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n-e "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("ES_JAVA_OPTS")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"-Xms1024m -Xmx1024m"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n-v /data/elasticsearch/config/elasticsearch.yml:/usr/share/elasticsearch/config/elasticsearch.yml "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n-v /data/elasticsearch/data:/usr/share/elasticsearch/data "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n-v /data/elasticsearch/plugins:/usr/share/elasticsearch/plugins "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n-d elasticsearch:7.10.1\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看容器启动日志")]),s._v("\ndocker logs elasticsearch "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 容器名或容器id都可以")]),s._v("\n\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br")])]),t("h3",{attrs:{id:"四、访问elasticsearch"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#四、访问elasticsearch"}},[s._v("#")]),s._v(" 四、访问elasticsearch")]),s._v(" "),t("ol",[t("li",[s._v("访问：http://{ip}:9200")])]),s._v(" "),t("img",{staticStyle:{zoom:"50%"},attrs:{src:"https://cdn.jsdelivr.net/gh/aaronTang98/image_store/blog/image-20210122222216989.png",alt:"image-20210122222216989"}}),s._v(" "),t("ol",{attrs:{start:"2"}},[t("li",[t("p",[s._v("查看es的所有节点：http://{ip}:9200/_cat/nodes")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/aaronTang98/image_store/blog/image-20210122222445197.png",alt:"image-20210122222445197"}})])])]),s._v(" "),t("h3",{attrs:{id:"五、创建kibana"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#五、创建kibana"}},[s._v("#")]),s._v(" 五、创建kibana")]),s._v(" "),t("p",[s._v("注意:http://{ip}:9200 为es的http访问地址")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("docker run --name kibana \\\n--restart=always \\\n-e ELASTICSEARCH_HOSTS=http://{ip}:9200 \\\n-p 5601:5601 \\\n-d kibana:7.10.1\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("img",{staticStyle:{zoom:"50%"},attrs:{src:"/Users/tanglei/Library/Mobile Documents/com~apple~CloudDocs/leileitangcom/背景图/image-20210122223844136.png",alt:"image-20210122223844136"}}),s._v(" "),t("ul",[t("li",[t("p",[s._v("点击Explore on my own")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/aaronTang98/image_store/blog/image-20210122224031171.png",alt:"image-20210122224031171"}})])])])])}),[],!1,null,null,null);a.default=n.exports}}]);